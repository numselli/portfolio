import{bd as h,G as x}from"#entry";function V(a){const e=h("",1e3);return{search:e,handleTypeaheadSearch:(c,d)=>{e.value=e.value+c;{const o=x(),s=d.map(t=>({...t,textValue:t.value?.textValue??t.ref.textContent?.trim()??""})),u=s.find(t=>t.ref===o),n=s.map(t=>t.textValue),i=m(n,e.value,u?.textValue),f=s.find(t=>t.textValue===i);return f&&f.ref.focus(),f?.ref}},resetTypeahead:()=>{e.value=""}}}function p(a,e){return a.map((r,l)=>a[(e+l)%a.length])}function m(a,e,r){const c=e.length>1&&Array.from(e).every(n=>n===e[0])?e[0]:e,d=r?a.indexOf(r):-1;let o=p(a,Math.max(d,0));c.length===1&&(o=o.filter(n=>n!==r));const u=o.find(n=>n.toLowerCase().startsWith(c.toLowerCase()));return u!==r?u:void 0}export{V as u};
